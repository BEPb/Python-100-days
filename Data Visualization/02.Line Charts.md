Теперь, когда вы знакомы со средой кодирования, пора научиться создавать свои собственные диаграммы!

В этом руководстве вы узнаете достаточно Python, чтобы создавать профессиональные линейные диаграммы. Затем в 
следующем упражнении вы примените свои новые навыки к работе с реальным набором данных.

###Настроить ноутбук
Начнем с настройки среды кодирования. (Этот код скрыт, но вы можете отменить его, нажав кнопку «Код» сразу под этим 
текстом справа.)

```python
import pandas as pd
pd.plotting.register_matplotlib_converters()
import matplotlib.pyplot as plt
%matplotlib inline
import seaborn as sns
print("Setup Complete")
```
Настройка завершена

###Выберите набор данных
Набор данных для этого руководства отслеживает глобальные ежедневные потоки в службе потоковой передачи музыки 
Spotify. Мы фокусируемся на пяти популярных песнях 2017 и 2018 годов:

1. "Shape of You" Эда Ширана (ссылка)
2. Луис Фонци "Despacito" (ссылка)
3. "Something Just Like This", авторы Chainsmokers и Coldplay (ссылка)
4. "СМЕНИТЬ", Кендрик Ламар (ссылка)
5. «Незабываемое», Френч Монтана (ссылка)

Обратите внимание, что первая дата, которая появляется, - 6 января 2017 года, что соответствует дате выхода «The 
 Shape of You» Эда Ширана. И, используя таблицу, вы можете увидеть, что "The Shape of You" транслировалось 12 287 
078 раз по всему миру в день его выпуска. Обратите внимание, что у других песен в первой строке отсутствуют 
значения, потому что они были выпущены позже!

###Загрузите данные
Как вы узнали в предыдущем руководстве, мы загружаем набор данных с помощью команды pd.read_csv.

```python
# Путь к файлу для чтения
spotify_filepath = "../input/spotify.csv"

# Считываем файл в переменную spotify_data
spotify_data = pd.read_csv(spotify_filepath, index_col="Date", parse_dates=True)
```

Конечным результатом выполнения обеих строк кода выше является то, что теперь мы можем получить доступ к набору 
данных с помощью spotify_data.

###Изучите данные
Мы можем напечатать первые пять строк набора данных с помощью команды head, о которой вы узнали в предыдущем 
руководстве.

# Распечатать первые 5 строк данных
```spotify_data.head ()```

Shape of You Despacito Something Just Like This HUMBLE. Незабываемый
Дата
2017-01-06 12287078 NaN NaN NaN NaN
2017-01-07 13190270 NaN NaN NaN NaN
2017-01-08 13099919 NaN NaN NaN NaN
09.01.2017 14506351 NaN NaN NaN NaN
2017-01-10 14275628 NaN NaN NaN NaN


Пустые записи будут отображаться как NaN, что является сокращением от «Not a Number».

Мы также можем взглянуть на последние пять строк данных, сделав только одно небольшое изменение (где .head () 
 становится .tail ()):

# Распечатать последние пять строк данных
```spotify_data.tail ()```
Shape of You Despacito Something Just Like This HUMBLE. Незабываемый
Дата
2018-01-05 4492978 3450315.0 2408365.0 2685857.0 2869783.0
2018-01-06 4416476 3394284.0 2188035.0 2559044.0 2743748.0
2018-01-07 4009104 3020789.0 1908129.0 2350985.0 2441045.0
2018-01-08 4135505 2755266.0 2023251.0 2523265.0 2622693.0
2018-01-09 4168506 2791601.0 2058016.0 2727678.0 2627334.0

К счастью, все выглядит правильно, с миллионами ежедневных глобальных потоков для каждой песни, и мы можем 
 приступить к построению данных!

###Постройте данные
Теперь, когда набор данных загружен в записную книжку, нам нужна только одна строка кода, чтобы построить линейную 
 диаграмму!

# Линейная диаграмма, показывающая ежедневные глобальные потоки каждой песни
```python
sns.lineplot(data=spotify_data)
```

Как вы можете видеть выше, строка кода относительно короткая и состоит из двух основных компонентов:

sns.lineplot сообщает записной книжке, что мы хотим создать линейную диаграмму.
Каждая команда, о которой вы узнаете в этом курсе, будет начинаться с sns, что означает, что команда исходит из 
пакета seaborn. Например, мы используем sns.lineplot для построения линейных диаграмм. Вскоре вы узнаете, что мы 
используем sns.barplot и sns.heatmap для создания гистограмм и тепловых карт соответственно.

data = spotify_data выбирает данные, которые будут использоваться для создания диаграммы.
Обратите внимание, что вы всегда будете использовать этот же формат при создании линейной диаграммы, и единственное,
что изменяется с новым набором данных, - это имя набора данных. Итак, если бы вы работали, например, с другим 
набором данных с именем financial_data, строка кода выглядела бы следующим образом:

sns.lineplot (данные = financial_data)
Иногда есть дополнительные детали, которые мы хотели бы изменить, например размер рисунка и заголовок диаграммы. 
Каждую из этих опций можно легко установить с помощью одной строчки кода.

```python
# Устанавливаем ширину и высоту фигуры
plt.figure (figsize = (14,6))

# Добавить заголовок
plt.title («Ежедневные глобальные потоки популярных песен в 2017–2018 годах»)

# Линейная диаграмма, показывающая ежедневные глобальные потоки каждой песни
sns.lineplot (данные = spotify_data)
```

Первая строка кода устанавливает размер фигуры 14 дюймов (в ширину) на 6 дюймов (в высоту). Чтобы установить размер 
любой фигуры, вам нужно только скопировать ту же строку кода, в которой она появляется. Тогда, если вы Если вы 
хотите использовать нестандартный размер, измените предоставленные значения 14 и 6 на желаемые ширину и высоту.

Вторая строка кода устанавливает заголовок рисунка. Обратите внимание, что заголовок всегда должен быть заключен в 
 кавычки («...»)!

###Постройте подмножество данных
До сих пор вы узнали, как построить линию для каждого столбца в наборе данных. В этом разделе вы узнаете, как 
построить подмножество столбцов.

Начнем с печати названий всех столбцов. Это делается с помощью одной строки кода и может быть адаптировано для 
 любого набора данных, просто заменив имя набора данных (в данном случае spotify_data).

```list(spotify_data.columns)```
```
['Shape of You',
 'Despacito',
 "Что-то вроде этого",
 'СКРОМНЫЙ.',
 «Незабываемое»]
 ```

В следующей ячейке кода мы строим линии, соответствующие первым двум столбцам в наборе данных.

```
# Устанавливаем ширину и высоту фигуры
plt.figure (figsize = (14,6))

# Добавить заголовок
plt.title («Ежедневные глобальные потоки популярных песен в 2017–2018 годах»)

# Линейный график, показывающий ежедневные глобальные потоки "Shape of You"
sns.lineplot (data = spotify_data ['Shape of You'], label = "Shape of You")

# Линейный график, показывающий ежедневные глобальные потоки Despacito
sns.lineplot (data = spotify_data ['Despacito'], label = "Despacito")

# Добавить метку для горизонтальной оси
plt.xlabel ("Дата")
```

Текст (0,5, 0, 'Дата')

Первые две строки кода устанавливают заголовок и размер рисунка (и должны выглядеть очень знакомо!).

Каждая из следующих двух строк добавляет линию к линейному графику. Например, рассмотрим первый, который добавляет строку «Shape of You»:

# Линейный график, показывающий ежедневные глобальные потоки "Shape of You"
```python
sns.lineplot(data=spotify_data['Shape of You'], label="Shape of You")
```
Эта строка очень похожа на код, который мы использовали при построении каждой строки в наборе данных, но у нее есть 
несколько ключевых отличий:

Вместо установки data = spotify_data мы устанавливаем data = spotify_data ['Shape of You']. Как правило, для 
 построения только одного столбца мы используем этот формат, в котором имя столбца помещается в одинарные кавычки и 
заключено в квадратные скобки. (Чтобы убедиться, что вы правильно указали имя столбца, вы можете распечатать список 
всех имен столбцов, используя команду, которую вы узнали выше.)

Мы также добавляем label = "Shape of You", чтобы линия отображалась в легенде, и устанавливаем соответствующую метку.
Последняя строка кода изменяет метку для горизонтальной оси (или оси x), где желаемая метка помещается в кавычки («..
.»)