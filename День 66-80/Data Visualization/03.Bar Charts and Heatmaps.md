Bar Charts and Heatmaps
Теперь, когда вы можете создавать свои собственные линейные диаграммы, пришло время узнать о других типах диаграмм!

Кстати, если это ваш первый опыт написания кода на Python, вы должны очень гордиться всем, чего вы достигли на 
 данный момент, потому что никогда не бывает легко освоить совершенно новый навык! Если вы будете придерживаться 
этого курса, вы заметите, что все станет только проще (в то время как диаграммы, которые вы построите, станут более 
впечатляющими!), Поскольку код для всех диаграмм очень похож. Как и любой навык, кодирование становится 
естественным со временем и с повторением.

###В этом руководстве вы узнаете о гистограммах и тепловых картах.

###Настроить ноутбук
Как всегда, мы начинаем с настройки среды кодирования. (Этот код скрыт, но вы можете отменить его, нажав кнопку 
```python
import pandas as pd
pd.plotting.register_matplotlib_converters()
import matplotlib.pyplot as plt
%matplotlib inline
import seaborn as sns
print("Setup Complete")
```

###Выберите набор данных
В этом руководстве мы будем работать с набором данных Министерства транспорта США, который отслеживает задержки рейсов.

При открытии этого CSV-файла в Excel отображается строка для каждого месяца (где 1 = январь, 2 = февраль и т. Д.) И 
столбец для каждого кода авиакомпании.

Каждая запись показывает среднюю задержку прибытия (в минутах) для разных авиакомпаний и месяцев (все в 2015 году). 
 Отрицательные записи обозначают рейсы, которые (в среднем) обычно прибывают раньше. Например, средний рейс 
American Airlines (код авиакомпании: AA) в январе прибыл примерно на 7 минут позже, а средний рейс Alaska Airlines 
(код авиакомпании: AS) в апреле прибыл примерно на 3 минуты раньше.

###Загрузите данные
Как и раньше, загружаем набор данных с помощью команды pd.read_csv.
```python
# Путь к файлу для чтения
flight_filepath = "../input/flight_delays.csv"

# Считываем файл в переменную flight_data
flight_data = pd.read_csv(flight_filepath, index_col="Month")
```

Вы можете заметить, что код немного короче того, что мы использовали в предыдущем руководстве. В этом случае, 
поскольку метки строк (из столбца «Месяц») не соответствуют датам, мы не добавляем parse_dates = True в круглые 
скобки. Но мы сохраняем первые два фрагмента текста, как и раньше, чтобы предоставить оба:

- путь к файлу для набора данных (в данном случае flight_filepath) и
- имя столбца, который будет использоваться для индексации строк (в данном случае index_col = "Месяц").

###Изучите данные
Поскольку набор данных невелик, мы можем легко распечатать все его содержимое. Это делается путем написания одной 
 строчки кода с названием набора данных.

# Распечатать данные
```python
flight_data
```
AA AS B6 DL EV F9 HA MQ NK OO UA US VX WN
Месяц
1 6.955843 -0.320888 7.347281 -2.043847 8.537497 18.357238 3.512640 18.164974 11.398054 10.889894 6.352729 3.107457 1.420702 3.389466
2 7,530204 -0,782923 18,657673 5,614745 10,417236 27,424179 6,029967 21,301627 16,474466 9,588895 7,260662 7,114455 7,784410 3,501363
3 6,693587 -0,544731 10,741317 2,077965 6,730101 20,074855 3,468383 11,018418 10,039118 3,181693 4,892212 3,330787 5,348207 3,263341
4 4,931778 -3,009003 2,780105 0,083343 4,821253 12,640440 0,011022 5,131228 8,766224 3,223796 4,376092 2,660290 0,995507 2,996399
5 5,173878 -1,716398 -0,709019 0,149333 7,724290 13,007554 0,826426 5,466790 22,397347 4,141162 6,827695 0,681605 7,102021 5,680777
6 8,191017 -0,220621 5,047155 4,419594 13,952793 19,712951 0,882786 9,639323 35,561501 8,338477 16,932663 5,766296 5,779415 10,743462
7 3.870440 0.377408 5.841454 1.204862 6.926421 14.464543 2.001586 3.980289 14.352382 6.790333 10.262551 NaN 7.135773 10.504942
8 3,193907 2,503899 9,280950 0,653114 5,154422 9,175737 7,448029 1,896565 20,519018 5,606689 5,014041 NaN 5,106221 5,532108
9 -1,432732 -1,813800 3,539154 -3,703377 0,851062 0,978460 3,696915 -2,167268 8,000101 1,530896 -1,794265 NaN 0,070998 -1,336260
10 -0,580930 -2,993617 3,676787 -5,011516 2,303760 0,082127 0,467074 -3,735054 6,810736 1,750897 -2,456542 NaN 2,254278 -0,688851
11 0,772630 -1,916516 1,418299 -3,175414 4,415930 11,164527 -2,719894 0,220061 7,543881 4,925548 0,281064 NaN 0,116370 0,995684
12 4,149684 -1,846681 13,839290 2,504595 6,685176 9,346221 -1,706475 0,662486 12,733123 10,947612 7,012079 NaN 13,498720 6,720893

###Гистограмма (Bar chart))
Допустим, мы хотим создать столбчатую диаграмму, показывающую среднюю задержку прибытия рейсов Spirit Airlines (код 
авиакомпании: NK) по месяцам.

```python
# Set the width and height of the figure
# Устанавливаем ширину и высоту фигуры
plt.figure(figsize=(10,6))

# Add title
# Добавить заголовок
plt.title("Average Arrival Delay for Spirit Airlines Flights, by Month")

# Bar chart showing average arrival delay for Spirit Airlines flights by month
# Гистограмма, показывающая среднюю задержку прибытия рейсов Spirit Airlines по месяцам
sns.barplot(x=flight_data.index, y=flight_data['NK'])

# Add label for vertical axis
# Добавить метку для вертикальной оси
plt.ylabel("Arrival delay (in minutes)")
```

Команды для настройки текста (заголовок и метка вертикальной оси) и размера фигуры знакомы по предыдущему 
 руководству. Код, создающий гистограмму, новый:

```python
# Гистограмма, показывающая среднюю задержку прибытия рейсов Spirit Airlines по месяцам
sns.barplot(x=flight_data.index, y=flight_data['NK'])
```
Он состоит из трех основных компонентов:

- sns.barplot - сообщает записной книжке, что мы хотим диаграмма. Помните, что sns относится к пакету seaborn, и 
  все команды, которые вы используете для создания диаграмм в этом курсе, будут начинаться с этого префикса.
- x = flight_data.index - определяет, что использовать на горизонтальной оси. В данном случае мы выбрали столбец, в 
  котором индексируются строки (в данном случае столбец, содержащий месяцы).
- y = flight_data ['NK'] - устанавливает столбец данных, который будет использоваться для определения высоты каждой 
  полосы. В этом случае мы выбираем столбец «NK».


Важное примечание: вы должны выбрать столбец индексации с flight_data.index, и невозможно использовать flight_data 
['Month'] (при этом будет возвращена ошибка). Это связано с тем, что при загрузке набора данных столбец «Месяц» 
использовался для индексации строк. Мы всегда должны использовать это специальное обозначение для выбора столбца 
индексации.

###Тепловая карта (Heatmap)
Нам нужно изучить еще один тип сюжета: тепловые карты!

В ячейке кода ниже мы создаем тепловую карту, чтобы быстро визуализировать шаблоны в flight_data. Каждая ячейка 
имеет цветовую кодировку в соответствии с ее соответствующим значением.
```python
# Set the width and height of the figure
# Устанавливаем ширину и высоту фигуры
plt.figure(figsize=(14,7))

# Add title
# Добавить заголовок
plt.title("Average Arrival Delay for Each Airline, by Month")

# Heatmap showing average arrival delay for each airline by month
# Тепловая карта, показывающая среднюю задержку прибытия для каждой авиакомпании по месяцам
sns.heatmap(data=flight_data, annot=True)

# Add label for horizontal axis
# Добавить метку для горизонтальной оси
plt.xlabel("Airline")
```

Соответствующий код для создания тепловой карты выглядит следующим образом:

# Тепловая карта, показывающая среднюю задержку прибытия для каждой авиакомпании по месяцам
```python
sns.heatmap(data=flight_data, annot=True)
```
Этот код состоит из трех основных компонентов:

- sns.heatmap - сообщает записной книжке, что мы хотим создать тепловую карту.
- data = flight_data - указывает записной книжке использовать все записи в flight_data для создания тепловой карты.
- annot = True - гарантирует, что значения для каждой ячейки появятся на диаграмме. (Если это не указывать, цифры из 
  каждой ячейки удаляются!)


Какие закономерности можно обнаружить в таблице? Например, если вы присмотритесь, месяцы ближе к концу года 
(особенно 9-11 месяцев) кажутся относительно темными для всех авиакомпаний. Это говорит о том, что авиакомпании 
лучше (в среднем) соблюдают график в эти месяцы! 